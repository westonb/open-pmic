v {xschem version=2.9.9 file_version=1.2 }
G {}
K {}
V {}
S {}
E {}
T {Current division ratio is 1/400} 1740 -890 0 0 0.4 0.4 {}
T {source for current sensing} 2200 -1060 0 0 0.4 0.4 {}
T {Off Chip Debug} 2000 530 0 0 0.4 0.4 {}
N 550 -510 550 -490 { lab=V3V3}
N 550 -430 550 -410 { lab=GND}
N 320 -180 320 -160 { lab=GND}
N 320 -260 320 -240 { lab=IBIAS_C_N}
N 1110 140 1110 160 { lab=GND}
N 970 140 970 160 { lab=V3V3}
N 850 300 870 300 { lab=SW_NODE}
N 850 380 870 380 { lab=REF_SWITCH}
N 1130 520 1130 540 { lab=IBIAS_C_N}
N 1350 340 1390 340 { lab=OPA_OUT}
N 1570 470 1570 490 { lab=GND}
N 1390 430 1390 450 { lab=GND}
N 1390 340 1390 370 { lab=OPA_OUT}
N 1320 -1080 1360 -1080 { lab=NMOS_DRV_N}
N 1360 -1080 1360 -940 { lab=NMOS_DRV_N}
N 1360 -940 1680 -940 { lab=NMOS_DRV_N}
N 1320 -1120 1400 -1120 { lab=NMOS_DRV}
N 1400 -1120 1400 -980 { lab=NMOS_DRV}
N 1400 -980 1680 -980 { lab=NMOS_DRV}
N 1320 -1180 1440 -1180 { lab=PMOS_DRV_N}
N 1440 -1180 1440 -1040 { lab=PMOS_DRV_N}
N 1440 -1040 1680 -1040 { lab=PMOS_DRV_N}
N 1320 -1220 1480 -1220 { lab=PMOS_DRV}
N 1480 -1220 1480 -1080 { lab=PMOS_DRV}
N 1480 -1080 1680 -1080 { lab=PMOS_DRV}
N 1640 -1180 1680 -1180 { lab=GND}
N 1640 -1180 1640 -1160 { lab=GND}
N 1640 -1220 1680 -1220 { lab=VDD_PWR}
N 1640 -1260 1640 -1220 { lab=VDD_PWR}
N 1640 -1260 1680 -1260 { lab=VDD_PWR}
N 1640 -1300 1640 -1260 { lab=VDD_PWR}
N 2420 -940 2420 -900 { lab=SW_NODE}
N 2420 -960 2420 -940 { lab=SW_NODE}
N 2320 -960 2420 -960 { lab=SW_NODE}
N 2320 -960 2320 -940 { lab=SW_NODE}
N 2320 -880 2320 -860 { lab=#net1}
N 2420 -840 2420 -780 { lab=VOUT}
N 2320 -780 2420 -780 { lab=VOUT}
N 2320 -800 2320 -780 { lab=VOUT}
N 180 -1120 180 -1100 { lab=GND}
N 180 -1200 180 -1180 { lab=#net2}
N 180 -1220 200 -1220 { lab=#net2}
N 180 -1220 180 -1200 { lab=#net2}
N 2420 -680 2420 -660 { lab=GND}
N 2420 -780 2420 -740 { lab=VOUT}
N 2540 -680 2540 -660 { lab=GND}
N 2420 -780 2540 -780 { lab=VOUT}
N 2540 -770 2540 -740 { lab=VOUT}
N 2540 -780 2540 -770 { lab=VOUT}
N 2220 -960 2320 -960 { lab=SW_NODE}
N 2080 -1140 2100 -1140 { lab=REF_SWITCH}
N 840 -920 880 -920 { lab=GND}
N 840 -920 840 -910 { lab=GND}
N 840 -910 840 -900 { lab=GND}
N 840 -960 880 -960 { lab=GND}
N 840 -960 840 -920 { lab=GND}
N 840 -1020 880 -1020 { lab=GND}
N 840 -1020 840 -960 { lab=GND}
N 840 -1060 880 -1060 { lab=GND}
N 840 -1060 840 -1020 { lab=GND}
N 840 -1100 880 -1100 { lab=GND}
N 840 -1100 840 -1060 { lab=GND}
N 860 -1160 880 -1160 { lab=V3V3}
N 960 -1400 980 -1400 { lab=V3V3}
N 980 -1400 980 -1380 { lab=V3V3}
N 980 -1400 1060 -1400 { lab=V3V3}
N 1060 -1400 1060 -1380 { lab=V3V3}
N 1140 -1400 1140 -1380 { lab=GND}
N 1140 -1400 1240 -1400 { lab=GND}
N 1220 -1400 1220 -1380 { lab=GND}
N 860 -1260 880 -1260 { lab=TIMEOUT}
N 1570 370 1570 390 { lab=#net3}
N 1570 390 1570 410 { lab=#net3}
N 1370 320 1370 340 { lab=OPA_OUT}
N 2420 -960 2440 -960 { lab=SW_NODE}
N 1390 340 1530 340 { lab=OPA_OUT}
N 1570 260 1570 310 { lab=REF_SWITCH}
N 2080 -1100 2160 -1100 { lab=#net4}
N 2160 -1100 2160 -1080 { lab=#net4}
N 2160 -1020 2160 -960 { lab=SW_NODE}
N 2160 -960 2220 -960 { lab=SW_NODE}
N 860 -1220 880 -1220 { lab=RESET_CMP}
N 1570 340 1670 340 { lab=V3V3}
N 700 -500 700 -480 { lab=VDD_PWR}
N 700 -420 700 -400 { lab=GND}
N 3550 -140 3550 -120 { lab=IBIAS_C_P}
N 3530 -520 3530 -500 { lab=GND}
N 3390 -520 3390 -500 { lab=V3V3}
N 560 -660 560 -640 { lab=VREF}
N 560 -580 560 -560 { lab=GND}
N 2660 -720 2660 -680 { lab=VFB}
N 2660 -620 2660 -600 { lab=GND}
N 2540 -780 2660 -780 { lab=VOUT}
N 2660 -700 2680 -700 { lab=VFB}
N 3270 -360 3290 -360 { lab=VREF}
N 3270 -280 3290 -280 { lab=VFB}
N 3710 -240 3710 -200 { lab=GND}
N 3630 -320 3710 -320 { lab=VCOMP}
N 3710 -320 3710 -300 { lab=VCOMP}
N 3710 -320 3790 -320 { lab=VCOMP}
N 4230 -330 4270 -330 { lab=VCOMP}
N 4230 -410 4270 -410 { lab=I_MOD}
N 4470 -470 4470 -450 { lab=V3V3}
N 4620 -370 4640 -370 { lab=RESET_CMP}
N 3830 -220 3830 -200 { lab=GND}
N 3830 -250 3850 -250 { lab=GND}
N 3850 -250 3850 -200 { lab=GND}
N 3830 -200 3850 -200 { lab=GND}
N 3770 -250 3790 -250 { lab=VCOMP}
N 3770 -290 3770 -250 { lab=VCOMP}
N 3770 -290 3830 -290 { lab=VCOMP}
N 3830 -290 3830 -280 { lab=VCOMP}
N 3770 -320 3770 -290 { lab=VCOMP}
N 4270 -330 4290 -330 { lab=VCOMP}
N 4290 -350 4290 -330 { lab=VCOMP}
N 4290 -350 4320 -350 { lab=VCOMP}
N 4270 -410 4290 -410 { lab=I_MOD}
N 4290 -410 4290 -390 { lab=I_MOD}
N 4290 -390 4320 -390 { lab=I_MOD}
N 4470 -290 4470 -270 { lab=GND}
N 4550 -290 4550 -270 { lab=IBIAS_CMP}
N 480 -180 480 -160 { lab=GND}
N 480 -260 480 -240 { lab=IBIAS_C_P}
N 660 -180 660 -160 { lab=GND}
N 660 -260 660 -240 { lab=IBIAS_CMP}
N 1510 440 1530 440 { lab=#net3}
N 1510 400 1510 440 { lab=#net3}
N 1510 400 1570 400 { lab=#net3}
N 1570 440 1590 440 { lab=GND}
N 1590 440 1590 480 { lab=GND}
N 1570 480 1590 480 { lab=GND}
N 1570 400 1710 400 { lab=#net3}
N 1710 400 1710 450 { lab=#net3}
N 1710 450 1750 450 { lab=#net3}
N 1750 450 1770 450 { lab=#net3}
N 1870 480 1870 490 { lab=GND}
N 1770 450 1830 450 { lab=#net3}
N 1870 450 1890 450 { lab=GND}
N 1890 450 1890 490 { lab=GND}
N 1870 490 1890 490 { lab=GND}
N 1870 490 1870 500 { lab=GND}
N 1870 310 1870 410 { lab=#net5}
N 1870 410 1870 420 { lab=#net5}
N 1870 300 1870 310 { lab=#net5}
N 1870 200 1870 240 { lab=V3V3}
N 1850 270 1870 270 { lab=V3V3}
N 1850 230 1850 270 { lab=V3V3}
N 1850 230 1870 230 { lab=V3V3}
N 1810 450 1810 540 { lab=#net3}
N 1810 540 1970 540 { lab=#net3}
N 1970 450 1970 540 { lab=#net3}
N 1970 450 1990 450 { lab=#net3}
N 2030 490 2030 500 { lab=GND}
N 2030 480 2030 490 { lab=GND}
N 2030 450 2050 450 { lab=GND}
N 2050 450 2050 490 { lab=GND}
N 2030 490 2050 490 { lab=GND}
N 2030 400 2030 420 { lab=GND}
N 2030 400 2050 400 { lab=GND}
N 2050 400 2050 450 { lab=GND}
N 1910 270 1930 270 { lab=#net5}
N 1930 270 1930 310 { lab=#net5}
N 1870 310 1930 310 { lab=#net5}
N 1930 270 2190 270 { lab=#net5}
N 2230 200 2230 240 { lab=V3V3}
N 2230 230 2250 230 { lab=V3V3}
N 2250 230 2250 270 { lab=V3V3}
N 2230 270 2250 270 { lab=V3V3}
N 2230 420 2230 500 { lab=GND}
N 2230 300 2230 360 { lab=I_SENSE}
N 2230 330 2250 330 { lab=I_SENSE}
N 1210 340 1350 340 { lab=OPA_OUT}
N 120 -200 120 -180 { lab=GND}
N 120 -280 120 -260 { lab=IBIAS_OFFSET}
N 2550 270 2650 270 { lab=IBIAS_OFFSET}
N 2490 270 2510 270 { lab=V3V3}
N 2490 230 2490 270 { lab=V3V3}
N 2490 230 2510 230 { lab=V3V3}
N 2510 230 2510 240 { lab=V3V3}
N 2690 270 2710 270 { lab=V3V3}
N 2710 230 2710 270 { lab=V3V3}
N 2690 230 2710 230 { lab=V3V3}
N 2690 230 2690 240 { lab=V3V3}
N 2510 300 2510 310 { lab=I_SENSE}
N 2230 310 2510 310 { lab=I_SENSE}
N 2690 300 2690 340 { lab=IBIAS_OFFSET}
N 2630 270 2630 320 { lab=IBIAS_OFFSET}
N 2640 320 2690 320 { lab=IBIAS_OFFSET}
N 2630 320 2640 320 { lab=IBIAS_OFFSET}
N 2340 -60 2440 -60 { lab=ISLOPE}
N 2280 -60 2300 -60 { lab=V3V3}
N 2280 -100 2280 -60 { lab=V3V3}
N 2280 -100 2300 -100 { lab=V3V3}
N 2300 -100 2300 -90 { lab=V3V3}
N 2480 -60 2500 -60 { lab=V3V3}
N 2500 -100 2500 -60 { lab=V3V3}
N 2480 -100 2500 -100 { lab=V3V3}
N 2480 -100 2480 -90 { lab=V3V3}
N 2480 -30 2480 10 { lab=ISLOPE}
N 2420 -60 2420 -10 { lab=ISLOPE}
N 2430 -10 2480 -10 { lab=ISLOPE}
N 2420 -10 2430 -10 { lab=ISLOPE}
N 420 -1220 440 -1220 { lab=#net6}
N 200 -1220 340 -1220 { lab=#net2}
N 520 -1220 540 -1220 { lab=TIMEOUT}
N 2420 430 2420 510 { lab=GND}
N 2400 390 2420 390 { lab=GND}
N 2400 390 2400 500 { lab=GND}
N 2400 500 2420 500 { lab=GND}
N 2420 310 2420 360 { lab=I_SENSE}
N 2420 180 2420 310 { lab=I_SENSE}
N 2420 420 2420 430 { lab=GND}
N 2400 150 2420 150 { lab=GND}
N 2420 100 2420 120 { lab=I_MOD}
N 2300 180 2300 310 { lab=I_SENSE}
N 2300 100 2300 120 { lab=I_MOD}
N 2300 100 2420 100 { lab=I_MOD}
N 2300 -30 2300 100 { lab=I_MOD}
N 120 40 120 60 { lab=GND}
N 120 -40 120 -20 { lab=ISLOPE}
C {devices/code_shown.sym} 198.75 -701.875 0 0 {name=NGSPICE
only_toplevel=true
value="

.control
.save all
.options savecurrents
tran 10n 300u
plot SENSE
write integration_poc.raw
.endc
"}
C {devices/code.sym} -290 -440 0 0 {name=STDCELL_MODELS 
only_toplevel=true
place=end
format="tcleval(@value )"
value="[sky130_models]"
name=s1 only_toplevel=false value=blabla}
C {devices/code.sym} -290 -270 0 0 {name=TT_MODELS
only_toplevel=true
format="tcleval( @value )"
value="
.include \\\\$::SKYWATER_MODELS\\\\/cells/nfet_01v8/sky130_fd_pr__nfet_01v8__tt.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/nfet_01v8_lvt/sky130_fd_pr__nfet_01v8_lvt__tt.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/pfet_01v8/sky130_fd_pr__pfet_01v8__tt.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/nfet_03v3_nvt/sky130_fd_pr__nfet_03v3_nvt__tt.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/nfet_05v0_nvt/sky130_fd_pr__nfet_05v0_nvt__tt.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/esd_nfet_01v8/sky130_fd_pr__esd_nfet_01v8__tt.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/pfet_01v8_lvt/sky130_fd_pr__pfet_01v8_lvt__tt.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/pfet_01v8_hvt/sky130_fd_pr__pfet_01v8_hvt__tt.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/esd_pfet_g5v0d10v5/sky130_fd_pr__esd_pfet_g5v0d10v5__tt.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/pfet_g5v0d10v5/sky130_fd_pr__pfet_g5v0d10v5__tt.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/pfet_g5v0d16v0/sky130_fd_pr__pfet_g5v0d16v0__tt.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/nfet_g5v0d10v5/sky130_fd_pr__nfet_g5v0d10v5__tt.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/nfet_g5v0d16v0/sky130_fd_pr__nfet_g5v0d16v0__tt_discrete.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/esd_nfet_g5v0d10v5/sky130_fd_pr__esd_nfet_g5v0d10v5__tt.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/models/corners/tt/nonfet.spice
* Mismatch parameters
.include \\\\$::SKYWATER_MODELS\\\\/cells/nfet_01v8/sky130_fd_pr__nfet_01v8__mismatch.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/pfet_01v8/sky130_fd_pr__pfet_01v8__mismatch.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/nfet_01v8_lvt/sky130_fd_pr__nfet_01v8_lvt__mismatch.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/pfet_01v8_lvt/sky130_fd_pr__pfet_01v8_lvt__mismatch.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/pfet_01v8_hvt/sky130_fd_pr__pfet_01v8_hvt__mismatch.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/nfet_g5v0d10v5/sky130_fd_pr__nfet_g5v0d10v5__mismatch.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/pfet_g5v0d10v5/sky130_fd_pr__pfet_g5v0d10v5__mismatch.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/nfet_05v0_nvt/sky130_fd_pr__nfet_05v0_nvt__mismatch.corner.spice
.include \\\\$::SKYWATER_MODELS\\\\/cells/nfet_03v3_nvt/sky130_fd_pr__nfet_03v3_nvt__mismatch.corner.spice
* Resistor\\\\$::SKYWATER_MODELS\\\\/Capacitor
.include \\\\$::SKYWATER_MODELS\\\\/models/r+c/res_typical__cap_typical.spice
.include \\\\$::SKYWATER_MODELS\\\\/models/r+c/res_typical__cap_typical__lin.spice
* Special cells
.include \\\\$::SKYWATER_MODELS\\\\/models/corners/tt/specialized_cells.spice
* All models
.include \\\\$::SKYWATER_MODELS\\\\/models/all.spice
* Corner
.include \\\\$::SKYWATER_MODELS\\\\/models/corners/tt/rf.spice
"
}
C {devices/vsource.sym} 550 -460 0 0 {name=V1 value=3.3}
C {devices/gnd.sym} 550 -410 0 0 {name=l2 lab=GND}
C {devices/lab_pin.sym} 550 -510 0 0 {name=l3 sig_type=std_logic lab=V3V3
}
C {devices/isource.sym} 320 -210 2 0 {name=I0 value=15u
}
C {devices/gnd.sym} 320 -160 0 0 {name=l1 lab=GND}
C {devices/lab_pin.sym} 320 -260 0 0 {name=l4 sig_type=std_logic lab=IBIAS_C_N
}
C {devices/lab_pin.sym} 1130 540 3 0 {name=l15 sig_type=std_logic lab=IBIAS_C_N
}
C {devices/lab_pin.sym} 970 140 0 0 {name=l21 sig_type=std_logic lab=V3V3
}
C {devices/gnd.sym} 1110 140 2 0 {name=l22 lab=GND}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 1550 340 0 0 {name=M3
L=1
W=5
nf=1
mult=20
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {devices/gnd.sym} 1570 490 0 0 {name=l31 lab=GND}
C {devices/lab_pin.sym} 1370 320 2 0 {name=l16 sig_type=std_logic lab=OPA_OUT
}
C {devices/lab_pin.sym} 2250 330 2 0 {name=l17 sig_type=std_logic lab=I_SENSE
}
C {devices/gnd.sym} 1390 450 0 0 {name=l18 lab=GND}
C {design/power-stage/power_stage.sym} 1880 -1120 0 0 {name=x1}
C {design/switch-control/switch_control.sym} 1100 -1160 0 0 {name=x3}
C {devices/gnd.sym} 1640 -1160 0 0 {name=l23 lab=GND}
C {devices/lab_pin.sym} 1640 -1300 2 0 {name=l33 sig_type=std_logic lab=VDD_PWR
}
C {devices/ind.sym} 2320 -910 0 0 {name=L1
m=1
value=22u
footprint=1206
device=inductor}
C {devices/res.sym} 2320 -830 2 0 {name=R3
value=0.1
footprint=1206
device=resistor
m=1}
C {devices/capa.sym} 2420 -870 0 0 {name=C2
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/vsource.sym} 180 -1150 0 0 {name=V3 value="PULSE(0 3.3 0 3n 3n 200n 2u)"}
C {devices/gnd.sym} 180 -1100 0 0 {name=l36 lab=GND}
C {devices/lab_pin.sym} 540 -1220 2 0 {name=l37 sig_type=std_logic lab=TIMEOUT
}
C {devices/gnd.sym} 840 -900 0 0 {name=l38 lab=GND}
C {devices/capa.sym} 2420 -710 0 0 {name=C3
m=1
value=47u
footprint=1206
device="ceramic capacitor"}
C {devices/gnd.sym} 2420 -660 0 0 {name=l35 lab=GND}
C {devices/res.sym} 2540 -710 2 0 {name=R4
value=20
footprint=1206
device=resistor
m=1}
C {devices/gnd.sym} 2540 -660 0 0 {name=l39 lab=GND}
C {devices/lab_pin.sym} 2100 -1140 2 0 {name=l25 sig_type=std_logic lab=REF_SWITCH
}
C {devices/lab_pin.sym} 860 -1160 0 0 {name=l24 sig_type=std_logic lab=V3V3
}
C {devices/lab_pin.sym} 960 -1400 0 0 {name=l26 sig_type=std_logic lab=V3V3
}
C {devices/gnd.sym} 1240 -1400 3 0 {name=l27 lab=GND}
C {devices/lab_pin.sym} 860 -1260 0 0 {name=l28 sig_type=std_logic lab=TIMEOUT
}
C {devices/lab_pin.sym} 1570 260 2 0 {name=l29 sig_type=std_logic lab=REF_SWITCH
}
C {devices/lab_pin.sym} 850 380 0 0 {name=l19 sig_type=std_logic lab=REF_SWITCH
}
C {devices/lab_pin.sym} 2440 -960 2 0 {name=l20 sig_type=std_logic lab=SW_NODE
}
C {devices/lab_pin.sym} 850 300 0 0 {name=l30 sig_type=std_logic lab=SW_NODE
}
C {devices/vsource.sym} 2160 -1050 0 0 {name=V4 value=0}
C {devices/lab_pin.sym} 860 -1220 0 0 {name=l40 sig_type=std_logic lab=RESET_CMP
}
C {devices/lab_pin.sym} 1670 340 2 0 {name=l41 sig_type=std_logic lab=V3V3
}
C {devices/vsource.sym} 700 -450 0 0 {name=V5 value=3.3}
C {devices/gnd.sym} 700 -400 0 0 {name=l42 lab=GND}
C {devices/lab_pin.sym} 700 -500 0 0 {name=l43 sig_type=std_logic lab=VDD_PWR
}
C {design/folded-cascode-n-in/folded_cascode_n_in.sym} 1030 340 0 0 {name=x4}
C {devices/lab_wire.sym} 1510 -1080 0 1 {name=l44 sig_type=std_logic lab=PMOS_DRV}
C {devices/lab_wire.sym} 1480 -1040 0 1 {name=l45 sig_type=std_logic lab=PMOS_DRV_N}
C {devices/lab_wire.sym} 1470 -980 0 1 {name=l46 sig_type=std_logic lab=NMOS_DRV}
C {devices/lab_wire.sym} 1470 -940 0 1 {name=l47 sig_type=std_logic lab=NMOS_DRV_N}
C {design/folded-cascode-p-in/folded_cascode_p_in.sym} 3450 -320 0 0 {name=x5}
C {devices/lab_pin.sym} 3550 -120 3 0 {name=l51 sig_type=std_logic lab=IBIAS_C_P
}
C {devices/lab_pin.sym} 3390 -520 0 0 {name=l52 sig_type=std_logic lab=V3V3
}
C {devices/gnd.sym} 3530 -520 2 0 {name=l53 lab=GND}
C {devices/vsource.sym} 560 -610 0 0 {name=V6 value=1.25}
C {devices/gnd.sym} 560 -560 0 0 {name=l54 lab=GND}
C {devices/lab_pin.sym} 560 -660 0 0 {name=l55 sig_type=std_logic lab=VREF
}
C {devices/lab_pin.sym} 3270 -360 0 0 {name=l56 sig_type=std_logic lab=VREF
}
C {devices/res.sym} 2660 -750 2 0 {name=R2
value=17.6k
footprint=1206
device=resistor
m=1}
C {devices/lab_pin.sym} 2420 -810 2 0 {name=l57 sig_type=std_logic lab=VOUT
}
C {devices/res.sym} 2660 -650 2 0 {name=R5
value=40k
footprint=1206
device=resistor
m=1}
C {devices/gnd.sym} 2660 -600 0 0 {name=l58 lab=GND}
C {devices/lab_pin.sym} 2680 -700 2 0 {name=l59 sig_type=std_logic lab=VFB
}
C {devices/lab_pin.sym} 3270 -280 0 0 {name=l60 sig_type=std_logic lab=VFB
}
C {devices/capa.sym} 3710 -270 0 0 {name=C5
m=1
value=200p
footprint=1206
device="ceramic capacitor"}
C {devices/gnd.sym} 3710 -200 0 0 {name=l61 lab=GND}
C {devices/lab_pin.sym} 3790 -320 2 0 {name=l62 sig_type=std_logic lab=VCOMP
}
C {devices/lab_pin.sym} 4230 -330 0 0 {name=l67 sig_type=std_logic lab=VCOMP
}
C {devices/lab_pin.sym} 4230 -410 0 0 {name=l68 sig_type=std_logic lab=I_MOD
}
C {devices/lab_pin.sym} 4470 -470 0 0 {name=l69 sig_type=std_logic lab=V3V3
}
C {devices/gnd.sym} 4470 -270 0 0 {name=l70 lab=GND}
C {devices/lab_pin.sym} 4640 -370 2 0 {name=l71 sig_type=std_logic lab=RESET_CMP
}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 3810 -250 0 0 {name=M1
L=1
W=12
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {devices/gnd.sym} 3830 -200 0 0 {name=l72 lab=GND}
C {design/comparator/comparator_w_obuff.sym} 4470 -370 0 0 {name=x7}
C {devices/lab_pin.sym} 4550 -270 3 0 {name=l12 sig_type=std_logic lab=IBIAS_CMP
}
C {devices/isource.sym} 480 -210 2 0 {name=I1 value=15u
}
C {devices/gnd.sym} 480 -160 0 0 {name=l5 lab=GND}
C {devices/lab_pin.sym} 480 -260 0 0 {name=l6 sig_type=std_logic lab=IBIAS_C_P
}
C {devices/isource.sym} 660 -210 0 0 {name=I2 value=50u
}
C {devices/gnd.sym} 660 -160 0 0 {name=l7 lab=GND}
C {devices/lab_pin.sym} 660 -260 0 0 {name=l8 sig_type=std_logic lab=IBIAS_CMP
}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 1550 440 0 0 {name=M2
L=1
W=5
nf=1
mult=20
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 1850 450 0 0 {name=M4
L=1
W=5
nf=1
mult=20
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 1890 270 0 1 {name=M5
L=1
W=5
nf=1
mult=20
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 2010 450 0 0 {name=M6
L=1
W=5
nf=1
mult=20
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {devices/gnd.sym} 1870 500 0 0 {name=l9 lab=GND}
C {devices/lab_wire.sym} 1870 200 0 1 {name=l11 sig_type=std_logic lab=V3V3}
C {devices/gnd.sym} 2030 500 0 0 {name=l10 lab=GND}
C {devices/res.sym} 2230 390 2 0 {name=R1
value=500
footprint=1206
device=resistor
m=1}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 2210 270 0 0 {name=M7
L=1
W=5
nf=1
mult=20
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {devices/lab_wire.sym} 2230 200 0 1 {name=l13 sig_type=std_logic lab=V3V3}
C {devices/gnd.sym} 2230 500 0 0 {name=l14 lab=GND}
C {devices/isource.sym} 120 -230 0 0 {name=I3 value=100u
}
C {devices/gnd.sym} 120 -180 0 0 {name=l49 lab=GND}
C {devices/lab_pin.sym} 120 -280 0 0 {name=l50 sig_type=std_logic lab=IBIAS_OFFSET
}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 2530 270 0 1 {name=M8
L=1
W=5
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 2670 270 0 0 {name=M9
L=1
W=5
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {devices/lab_wire.sym} 2490 230 0 1 {name=l63 sig_type=std_logic lab=V3V3}
C {devices/lab_wire.sym} 2690 230 0 1 {name=l64 sig_type=std_logic lab=V3V3}
C {devices/lab_pin.sym} 2690 340 2 0 {name=l65 sig_type=std_logic lab=IBIAS_OFFSET
}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 2320 -60 0 1 {name=M10
L=1
W=5
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 2460 -60 0 0 {name=M11
L=1
W=5
nf=1
mult=2
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_g5v0d10v5
spiceprefix=X
}
C {devices/lab_wire.sym} 2280 -100 0 1 {name=l66 sig_type=std_logic lab=V3V3}
C {devices/lab_wire.sym} 2480 -100 0 1 {name=l73 sig_type=std_logic lab=V3V3}
C {devices/lab_pin.sym} 2480 10 2 0 {name=l74 sig_type=std_logic lab=ISLOPE
}
C {sky130_stdcells/inv_4.sym} 380 -1220 0 0 {name=x2 VGND=GND VNB=GND VPB=V3V3 VPWR=V3V3 prefix=sky130_fd_sc_hvl__}
C {sky130_stdcells/inv_4.sym} 480 -1220 0 0 {name=x6 VGND=GND VNB=GND VPB=V3V3 VPWR=V3V3 prefix=sky130_fd_sc_hvl__}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 2440 390 0 1 {name=M12
L=1
W=5
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {devices/gnd.sym} 2420 500 0 0 {name=l48 lab=GND}
C {devices/lab_pin.sym} 2460 390 2 0 {name=l75 sig_type=std_logic lab=TIMEOUT
}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 2440 150 0 1 {name=M13
L=1
W=5
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_g5v0d10v5
spiceprefix=X
}
C {devices/gnd.sym} 2400 150 1 0 {name=l76 lab=GND}
C {devices/lab_pin.sym} 2460 150 2 0 {name=l77 sig_type=std_logic lab=TIMEOUT
}
C {devices/capa.sym} 2300 150 0 0 {name=C1
m=1
value=10p
footprint=1206
device="ceramic capacitor"}
C {devices/isource.sym} 120 10 0 0 {name=I4 value=1.8u
}
C {devices/gnd.sym} 120 60 0 0 {name=l78 lab=GND}
C {devices/lab_pin.sym} 120 -40 0 0 {name=l79 sig_type=std_logic lab=ISLOPE
}
C {devices/lab_pin.sym} 2300 50 2 0 {name=l80 sig_type=std_logic lab=I_MOD
}
